# Setting up the MQTT Broker
---

### **Overview**
1. **Capture Images on the Raspberry Pi HQ Camera** at fixed intervals.
2. **Send the Captured Images** in real-time to the ROS 2 system on your Ubuntu 22 laptop.
3. Use a lightweight protocol (like MQTT or custom TCP/UDP) to transfer the images without requiring ROS 2 to run on the Raspberry Pi.

---

### **Optimal Option: Stream Images Using MQTT**
**Why MQTT?**
- Lightweight and fast for real-time communication.
- Allows decoupling of the camera source from the ROS 2 system.
- Easy to set up and maintain.

---

### **Updated Step-by-Step Plan**

#### **Step 1: Install MQTT Broker on Your Ubuntu Laptop**
The MQTT broker will act as the hub for communication between the Raspberry Pi and your laptop.

1. Open a terminal on your Ubuntu 22 laptop and run:
   ```bash
   sudo apt update
   sudo apt install mosquitto mosquitto-clients
   ```

2. Start the Mosquitto service:
   ```bash
   sudo systemctl start mosquitto
   sudo systemctl enable mosquitto
   ```

3. Test the broker (optional):
   - Open one terminal and run:
     ```bash
     mosquitto_sub -h localhost -t test
     ```
   - Open another terminal and run:
     ```bash
     mosquitto_pub -h localhost -t test -m "Hello MQTT"
     ```
   - You should see "Hello MQTT" in the subscriber terminal.

Let me know once you’ve completed this, and we’ll proceed to set up the Raspberry Pi.
